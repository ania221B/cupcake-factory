import{a as p,u as d,j as e,B as o,m as x,r as u,b as j,p as f}from"./index-DY_Dh2-z.js";import{B as g}from"./Breadcrumb-D1g6Om2S.js";import{P as b}from"./ProductList-DUg9a0Ac.js";import{H as y}from"./HeroSection-Oz6xyIXE.js";import"./ProductPricing-BEqZjlFZ.js";function v(){const{category:i}=p(),{initialFilters:c,filters:r,setFilters:t,priceError:l,resetFilters:h}=d();function s(a){const m=Object.keys(r.type);a.target.name==="price-min"||a.target.name==="price-max"?t(n=>({...n,[x(a.target.name)]:parseFloat(a.target.value)})):a.target.name==="rating"?t(n=>({...n,[a.target.name]:parseFloat(a.target.value)})):m.includes(a.target.name)?t(n=>({...n,type:{...n.type,[a.target.name]:a.target.checked}})):t(n=>({...n,[a.target.name]:a.target.checked}))}return e.jsxs("aside",{className:"products__filter-menu",children:[e.jsx("header",{children:e.jsx("h3",{children:"Filter products"})}),e.jsxs("form",{id:"product-filters",className:"product-filters",children:[!i&&e.jsxs("fieldset",{"data-filter":"roast",className:"flow",children:[e.jsx("legend",{children:"Type"}),e.jsxs("div",{className:"product-filters__control-wrapper",children:[e.jsx("input",{type:"checkbox",name:"cake",id:"cake",checked:r.type.cake,onChange:s}),e.jsx("label",{htmlFor:"cake",children:"Cake"})]}),e.jsxs("div",{className:"product-filters__control-wrapper",children:[e.jsx("input",{type:"checkbox",name:"cookie",id:"cookie",checked:r.type.cookie,onChange:s}),e.jsx("label",{htmlFor:"cookie",children:"Cookie"})]}),e.jsxs("div",{className:"product-filters__control-wrapper",children:[e.jsx("input",{type:"checkbox",name:"pastry",id:"pastry",checked:r.type.pastry,onChange:s}),e.jsx("label",{htmlFor:"pastry",children:"Pastry"})]}),e.jsxs("div",{className:"product-filters__control-wrapper",children:[e.jsx("input",{type:"checkbox",name:"dessert",id:"dessert",checked:r.type.dessert,onChange:s}),e.jsx("label",{htmlFor:"dessert",children:"Dessert"})]})]}),e.jsxs("fieldset",{"data-filter":"type",className:"flow",children:[e.jsx("legend",{children:"Tag"}),e.jsxs("div",{className:"product-filters__control-wrapper",children:[e.jsx("input",{type:"checkbox",name:"bestseller",id:"bestseller",checked:r.bestseller,onChange:s}),e.jsx("label",{htmlFor:"bestseller",children:"Bestseller"})]}),e.jsxs("div",{className:"product-filters__control-wrapper",children:[e.jsx("input",{type:"checkbox",name:"newArrival",id:"newArrival",checked:r.newArrival,onChange:s}),e.jsx("label",{htmlFor:"newArrival",children:"New Arrival"})]}),e.jsxs("div",{className:"product-filters__control-wrapper",children:[e.jsx("input",{type:"checkbox",name:"sale",id:"sale",checked:r.sale,onChange:s}),e.jsx("label",{htmlFor:"sale",children:"Sale"})]})]}),e.jsxs("fieldset",{"data-filter":"availability",className:"flow",children:[e.jsx("legend",{children:"Availability"}),e.jsxs("div",{className:"product-filters__control-wrapper",children:[e.jsx("input",{type:"checkbox",name:"availability",id:"availability",checked:r.availability,onChange:s}),e.jsx("label",{htmlFor:"availability",children:"In stock"})]})]}),e.jsxs("fieldset",{"data-filter":"rating",className:"flow",children:[e.jsx("legend",{children:"Minimum Rating"}),e.jsxs("div",{className:"product-filters__control-wrapper",children:[e.jsx("input",{id:"min-rating",name:"rating",type:"number",min:"0",max:"5",step:"0.1",value:r.rating,onChange:s}),e.jsx("label",{htmlFor:"min-rating",children:"Stars"})]})]}),e.jsxs("fieldset",{"data-filter":"price",className:"flow",children:[e.jsx("legend",{children:"Price"}),e.jsxs("div",{className:"price-inputs",children:[e.jsxs("div",{className:l?"product-filters__control-wrapper error":"product-filters__control-wrapper",children:[e.jsx("input",{type:"number",name:"price-min",id:"price-min",min:c.priceMin,max:c.priceMax,value:r.priceMin,onChange:s}),e.jsx("label",{htmlFor:"price-min",children:"Min price"})]}),e.jsxs("div",{className:l?"product-filters__control-wrapper error":"product-filters__control-wrapper",children:[e.jsx("input",{type:"number",name:"price-max",id:"price-max",min:c.priceMin,max:c.priceMax,value:r.priceMax,onChange:s}),e.jsx("label",{htmlFor:"price-max",children:"Max price"})]})]}),l&&e.jsx("div",{className:"error-message",children:l})]})]}),e.jsx(o,{buttonText:"Reset All",ariaLabel:"Resets all filtering applied",onClick:h,isAccent:!0})]})}function k(){const{inputText:i,setInputText:c,isSearching:r,setIsSearching:t}=d();return e.jsx("search",{className:"search-menu",children:e.jsx("form",{className:"search-form js-search-bar",children:e.jsxs("div",{className:"form__wrapper",children:[e.jsx("label",{htmlFor:"search",children:"Search for products:"}),e.jsx("input",{id:"search",name:"search",type:"search",value:i,onInput:l=>c(l.target.value)}),r?e.jsx(o,{buttonText:"Searching...",ariaLabel:"Search for products",type:"submit",onClick:l=>{l.preventDefault()},isAccent:!0,isInactive:!0}):e.jsx(o,{buttonText:"Search",ariaLabel:"Search for products",type:"submit",onClick:l=>{l.preventDefault(),t(!0),setInterval(()=>{t(!1)},500)},isAccent:!0})]})})})}function A(){const{category:i}=p(),{filteredProducts:c,setCurrentCategory:r}=d(),t=f(i);return u.useEffect(()=>{r(i||null)},[i]),e.jsxs(e.Fragment,{children:[e.jsx(y,{title:i?j(t):"All Products"}),e.jsx("section",{className:"section products",children:e.jsx("div",{className:"page-wrapper",children:e.jsxs("div",{className:"catalog-grid",children:[i&&e.jsx(g,{items:[{label:"home",path:"/"},{label:"store",path:"/store"},{label:"all products",path:"/store/all-products"},{label:`${t}`,path:null}]}),e.jsx(v,{}),e.jsx(k,{}),e.jsx("div",{className:"item-area",children:e.jsx(b,{list:c})})]})})})]})}export{A as default};
