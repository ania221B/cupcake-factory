import{G as C,u,r as g,j as t,L as f,h,B as i,d as j,i as I,k as b}from"./index-CGnfAvmO.js";import{Q as k}from"./QuantityFormControl-BmfPisYR.js";function p(s){return C({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",d:"M296 64h-80a7.91 7.91 0 0 0-8 8v24h96V72a7.91 7.91 0 0 0-8-8z"},child:[]},{tag:"path",attr:{d:"M432 96h-96V72a40 40 0 0 0-40-40h-80a40 40 0 0 0-40 40v24H80a16 16 0 0 0 0 32h17l19 304.92c1.42 26.85 22 47.08 48 47.08h184c26.13 0 46.3-19.78 48-47l19-305h17a16 16 0 0 0 0-32zM192.57 416H192a16 16 0 0 1-16-15.43l-8-224a16 16 0 1 1 32-1.14l8 224A16 16 0 0 1 192.57 416zM272 400a16 16 0 0 1-32 0V176a16 16 0 0 1 32 0zm32-304h-96V72a7.91 7.91 0 0 1 8-8h80a7.91 7.91 0 0 1 8 8zm32 304.57A16 16 0 0 1 320 416h-.58A16 16 0 0 1 304 399.43l8-224a16 16 0 1 1 32 1.14z"},child:[]}]})(s)}function v({item:s}){const{id:e,image:l,name:r,slug:n,description:c,price:d,quantity:a}=s,{removeCartItem:m,setItemQuantity:o,cartItemMin:x,cartItemMax:_}=u();return g.useEffect(()=>{a===0&&m(e)},[a]),t.jsxs("article",{className:"cart__item",children:[t.jsx("div",{className:"cart__item__img",children:t.jsx("img",{src:l,alt:r})}),t.jsxs("div",{className:"cart__item__details",children:[t.jsx("h3",{className:"cart__item__name",children:t.jsx(f,{to:`/store/${n}`,children:r})}),t.jsx("p",{className:"cart__item__description",children:c}),t.jsxs("dl",{className:"cart__item__unit-price",children:[t.jsx("dt",{children:"Price:"}),t.jsxs("dd",{className:"fw-700",children:["$",h(d)]})]}),t.jsx(i,{buttonText:t.jsx(p,{}),ariaLabel:"Remove item from cart",onClick:()=>m(e),isIcon:!0}),t.jsx(k,{quantity:a,onIncrease:()=>o(e,j(a+1,x,_)),onDecrease:()=>o(e,j(a-1,x,_)),onChange:N=>o(e,N)}),t.jsxs("dl",{className:"cart__item__total-price",children:[t.jsx("dt",{children:"Item total:"}),t.jsxs("dd",{className:"fw-700",children:["$",h(I(d,a))]})]})]})]})}function L(){const{headerHeight:s,cart:e,clearCart:l}=u(),{totalItemCount:r,cartTotal:n}=b();return t.jsx("section",{className:" section",style:{"--header-height":`${s}px`},children:t.jsx("div",{className:"container","data-container":"small",children:e.length===0?t.jsxs("article",{className:"cart cart--empty",children:[t.jsx("h2",{className:"cart__title section__title",children:"Your Cart"}),t.jsx("p",{className:"cart__subtitle",children:"...is currently empty"}),t.jsx(i,{buttonText:"Start shopping",ariaLabel:"Go back to store to start shopping",isLink:!0,path:"/store",isAccent:!0,hasArrow:!0})]}):t.jsxs("article",{className:"cart",children:[t.jsx(i,{buttonText:"Continue shopping",ariaLabel:"Go back to store to start shopping",isLink:!0,path:"/store/all-products",hasArrow:!0,isInvisible:!0}),t.jsxs("header",{children:[t.jsx("h2",{className:"section__title",children:"Your Cart"}),t.jsx("p",{className:"cart__item-counter",children:t.jsx("span",{children:r})})]}),t.jsx(i,{buttonText:t.jsxs(t.Fragment,{children:[t.jsx("span",{children:t.jsx(p,{})}),t.jsx("span",{children:"Clear Cart"})]}),onClick:l,isIcon:!0}),t.jsxs("ul",{role:"list",className:"cart__list",children:[e.map(c=>t.jsx("li",{children:t.jsx(v,{item:c})},c.id))," "]}),t.jsxs("dl",{className:"cart__total deco deco--separator deco--separator-top section__title section__title-small",children:[t.jsx("dt",{children:"Cart total:"}),t.jsxs("dd",{children:["$",h(n)]})]})]})})})}export{L as default};
